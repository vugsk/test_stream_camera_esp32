# –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ—à–µ–Ω–∏—é —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å ESP32-CAM.

---

## üî¥ –ö–∞–º–µ—Ä–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

### –°–∏–º–ø—Ç–æ–º—ã
```
Camera init failed: 0x105
```

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: LED –Ω–∞ –ø–ª–∞—Ç–µ –º–∏–≥–∞–µ—Ç –∏–ª–∏ —Ç—É—Å–∫–Ω–µ–µ—Ç –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ë–ü –º–∏–Ω–∏–º—É–º 5V/2A
- –ù–µ –ø–∏—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ USB-TTL –∞–¥–∞–ø—Ç–µ—Ä
- –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 100¬µF –Ω–∞ –ª–∏–Ω–∏–∏ 5V

#### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å PSRAM
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
Serial.printf("PSRAM found: %d\n", psramFound());
```

**–†–µ—à–µ–Ω–∏–µ**:
```ini
; platformio.ini
build_flags = 
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
```

#### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ AI-Thinker –º–æ–¥–µ–ª—å

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ config.h:
```cpp
#define PWDN_GPIO_NUM     32
#define RESET_GPIO_NUM    -1
#define XCLK_GPIO_NUM      0
// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∏–Ω—ã
```

#### 4. –ü–ª–æ—Ö–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í–∏–∑—É–∞–ª—å–Ω–æ –æ—Å–º–æ—Ç—Ä–∏—Ç–µ —à–ª–µ–π—Ñ –∫–∞–º–µ—Ä—ã

**–†–µ—à–µ–Ω–∏–µ**:
- –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ —à–ª–µ–π—Ñ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞—â–µ–ª–∫—É —Ä–∞–∑—ä–µ–º–∞
- –ó–∞–º–µ–Ω–∏—Ç–µ —à–ª–µ–π—Ñ –µ—Å–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

---

## üì° WiFi –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

### –°–∏–º–ø—Ç–æ–º—ã
```
WiFi connection FAILED!
```

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ credentials
**–†–µ—à–µ–Ω–∏–µ**:
```cpp
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
Preferences prefs;
prefs.begin("wifi", true);
String ssid = prefs.getString("ssid", "");
Serial.println("Saved SSID: " + ssid);
prefs.end();
```

–û—á–∏—Å—Ç–∫–∞ NVS:
```bash
pio run -t erase
```

#### 2. –°–ª–∞–±—ã–π —Å–∏–≥–Ω–∞–ª
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
int rssi = WiFi.RSSI();
Serial.printf("RSSI: %d dBm\n", rssi);
```

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:
- `-50 dBm –∏ –≤—ã—à–µ` ‚Äî –æ—Ç–ª–∏—á–Ω–æ
- `-70 dBm` ‚Äî —Ö–æ—Ä–æ—à–æ
- `-80 dBm` ‚Äî –ø–ª–æ—Ö–æ
- `-90 dBm –∏ –Ω–∏–∂–µ` ‚Äî –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–∏–±–ª–∏–∑—å—Ç–µ ESP32-CAM –∫ —Ä–æ—É—Ç–µ—Ä—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω—é—é –∞–Ω—Ç–µ–Ω–Ω—É
- –£–≤–µ–ª–∏—á—å—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å WiFi:
```cpp
WiFi.setTxPower(WIFI_POWER_19_5dBm);
```

#### 3. –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Ä–æ—É—Ç–µ—Ä
**–ü—Ä–æ–±–ª–µ–º–∞**: ESP32 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 2.4GHz

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ä–æ—É—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 2.4GHz
- –û—Ç–∫–ª—é—á–∏—Ç–µ 5GHz –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é 2.4GHz —Å–µ—Ç—å

#### 4. MAC —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
Serial.println(WiFi.macAddress());
```

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ MAC –∞–¥—Ä–µ—Å –≤ whitelist —Ä–æ—É—Ç–µ—Ä–∞

---

## üñ•Ô∏è –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∫–∞–¥—Ä—ã

### –°–∏–º–ø—Ç–æ–º—ã
- Streaming started, –Ω–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- `Failed to connect to server (attempt X/5)`

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
String serverHost = getCurrentServerHost();
Serial.println("Server: " + serverHost + ":" + String(SERVER_PORT));
```

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- IP –∞–¥—Ä–µ—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç
- –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

–¢–µ—Å—Ç ping:
```bash
ping 192.168.1.100
```

–¢–µ—Å—Ç telnet:
```bash
telnet 192.168.1.100 8081
```

#### 2. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç
**–†–µ—à–µ–Ω–∏–µ (Linux)**:
```bash
sudo ufw allow 8081/tcp
```

**–†–µ—à–µ–Ω–∏–µ (Windows)**:
```powershell
New-NetFirewallRule -DisplayName "ESP32-CAM" -Direction Inbound -LocalPort 8081 -Protocol TCP -Action Allow
```

#### 3. –°–µ—Ä–≤–µ—Ä –Ω–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0`:
```javascript
// Node.js
app.listen(8081, '0.0.0.0');

// Python
app.run(host='0.0.0.0', port=8081)
```

#### 4. –†–∞–∑–Ω—ã–µ –ø–æ–¥—Å–µ—Ç–∏
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```
ESP32-CAM: 192.168.1.100
Server:    192.168.0.50
```

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏

---

## ‚ö° –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

### –°–∏–º–ø—Ç–æ–º—ã
```
Brownout detector was triggered
abort() was called at PC 0x...
```

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. Brownout (–ø—Ä–æ—Å–∞–¥–∫–∞ –ø–∏—Ç–∞–Ω–∏—è)
**–°–∏–º–ø—Ç–æ–º**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã –∏–ª–∏ WiFi

**–†–µ—à–µ–Ω–∏–µ**:
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ë–ü 5V/2A+
- –ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 100¬µF –Ω–∞ –ø–∏—Ç–∞–Ω–∏–∏
- –ö–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–≤–æ–¥–∞ –ø–∏—Ç–∞–Ω–∏—è
- –ù–µ –ø–∏—Ç–∞—Ç—å —á–µ—Ä–µ–∑ USB-TTL

#### 2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç WiFi/Bluetooth
**–°–∏–º–ø—Ç–æ–º**: 
```
abort() was called at PC 0x401d1314
```

**–†–µ—à–µ–Ω–∏–µ**: –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ
```cpp
// main.cpp
if (connectionState != STATE_BLUETOOTH_WAITING) {
    checkWiFiConnection();  // –ù–µ –≤—ã–∑—ã–≤–∞—Ç—å WiFi —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è BT
}

// wifi_client.cpp
void disconnectWiFi() {
    WiFi.mode(WIFI_OFF);  // –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–¥–∏–æ
}
```

#### 3. Stack overflow
**–°–∏–º–ø—Ç–æ–º**: –°–ª—É—á–∞–π–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ**:
```cpp
// –£–≤–µ–ª–∏—á–µ–Ω–∏–µ stack size –¥–ª—è –∑–∞–¥–∞—á
xTaskCreatePinnedToCore(
    task,
    "TaskName",
    10000,  // –£–≤–µ–ª–∏—á–∏—Ç—å stack size
    NULL,
    1,
    NULL,
    1
);
```

#### 4. Watchdog timeout
**–°–∏–º–ø—Ç–æ–º**: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≤–∏—Å–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ loop() –Ω–µ—Ç long blocking –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `yield()` –∏–ª–∏ `vTaskDelay()` –≤ –¥–ª–∏–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∞—Ö

---

## ÔøΩ SD –∫–∞—Ä—Ç–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

### –°–∏–º–ø—Ç–æ–º—ã
```
E (142853) sdmmc_common: sdmmc_init_ocr: send_op_cond (1) returned 0x107
E (142853) vfs_fat_sdmmc: sdmmc_card_init failed (0x107).
[142888][E][SD_MMC.cpp:148] begin(): Failed to initialize the card (0x107).
Make sure SD card lines have pull-up resistors in place.
```

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ (–û–°–ù–û–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê!)
**–ü—Ä–æ–±–ª–µ–º–∞**: SD –∫–∞—Ä—Ç–∞ –¥–µ–ª–∞–µ—Ç –ø–∏–∫–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ç–æ–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º—ã**:
- –û—à–∏–±–∫–∞ 0x107 (ESP_ERR_TIMEOUT)
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ SD, –Ω–æ –Ω–µ —Å –Ω–µ–π
- –ü–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ –º–æ–∂–µ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å

**–†–µ—à–µ–Ω–∏–µ**:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ë–ü 5V/2A –∏–ª–∏ –≤—ã—à–µ**
- ‚úÖ –î–æ–±–∞–≤—å—Ç–µ **–∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 470¬µF** –Ω–∞ –ª–∏–Ω–∏—é –ø–∏—Ç–∞–Ω–∏—è ESP32
- ‚úÖ **–ö–æ—Ä–æ—Ç–∫–∏–µ —Ç–æ–ª—Å—Ç—ã–µ –ø—Ä–æ–≤–æ–¥–∞** –ø–∏—Ç–∞–Ω–∏—è (–Ω–µ –¥–ª–∏–Ω–Ω–µ–µ 20—Å–º)
- ‚ùå –ù–ï –ø–∏—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ USB-TTL –∞–¥–∞–ø—Ç–µ—Ä (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–∫–∞!)

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
Serial.printf("Voltage: %.2fV\n", analogRead(35) * 0.00322);  // –ü—Ä–∏–º–µ—Ä–Ω–æ
```

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ pull-up —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: AI-Thinker ESP32-CAM **–ù–ï –ò–ú–ï–ï–¢** –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö pull-up –Ω–∞ –ª–∏–Ω–∏—è—Ö SD_MMC

**–°–∏–º–ø—Ç–æ–º—ã**:
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ SD –∫–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –¥—Ä—É–≥–∏–µ –Ω–µ—Ç
- –û—à–∏–±–∫–∞ 0x107 –∏–ª–∏ 0x108
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ –≤–Ω–µ—à–Ω–∏–µ **pull-up —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã 10kŒ©** –Ω–∞ –ø–∏–Ω—ã:
- GPIO2 (DATA0) ‚Üí 10kŒ© ‚Üí 3.3V
- GPIO15 (CMD)  ‚Üí 10kŒ© ‚Üí 3.3V

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ SD –∫–∞—Ä—Ç—ã –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ pull-up (–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–∞—Ä—Ç—ã)

#### 3. –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è SD –∫–∞—Ä—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –≤—Å–µ –∫–∞—Ä—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–∞—Ä—Ç—ã**:
- ‚úÖ MicroSD **Class 10** –∏–ª–∏ **UHS-I**
- ‚úÖ –†–∞–∑–º–µ—Ä **4GB - 32GB** (SDHC)
- ‚úÖ –ë—Ä–µ–Ω–¥—ã: SanDisk, Samsung, Kingston

**–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è**:
- ‚ùå SD –∫–∞—Ä—Ç—ã > 32GB (SDXC –≤ 1-bit —Ä–µ–∂–∏–º–µ)
- ‚ùå –°—Ç–∞—Ä—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã (Class 2-4)
- ‚ùå –ü–æ–¥–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã (NoName)
- ‚ùå –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ä—Ç—ã**:
```bash
# –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
# Windows: H2testw
# Linux: f3probe
sudo f3probe /dev/sdX
```

#### 4. –ü–ª–æ—Ö–æ–π –∫–æ–Ω—Ç–∞–∫—Ç
**–ü—Ä–æ–±–ª–µ–º–∞**: –ì—Ä—è–∑–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏–ª–∏ –ø–ª–æ—Ö–æ–π —Å–ª–æ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã SD –∫–∞—Ä—Ç—ã —Å–ø–∏—Ä—Ç–æ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–æ—Ç –Ω–∞ –ø–ª–∞—Ç–µ (–Ω–µ—Ç –ø—ã–ª–∏/–º—É—Å–æ—Ä–∞)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–∞—Ä—Ç–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ **–¥–æ —â–µ–ª—á–∫–∞**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é SD –∫–∞—Ä—Ç—É

#### 5. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: SD_MMC –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –∫–∞–º–µ—Ä–æ–π –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

**–†–µ—à–µ–Ω–∏–µ**: –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ (–∫–∞–º–µ—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π)

```cpp
// main.cpp setup()
initCamera();      // 1. –ö–∞–º–µ—Ä–∞ –ü–ï–†–í–ê–Ø
delay(500);
initSDRecorder();  // 2. –ü–æ—Ç–æ–º SD –∫–∞—Ä—Ç–∞
```

#### 6. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞—Ä—Ç–∞ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ exFAT –∏–ª–∏ NTFS

**–†–µ—à–µ–Ω–∏–µ**: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ –≤ **FAT32**

**Windows**:
```cmd
format E: /FS:FAT32 /Q
```

**Linux**:
```bash
sudo mkfs.vfat -F 32 /dev/sdX1
```

**Mac**:
```bash
diskutil eraseDisk FAT32 SDCARD /dev/diskX
```

---

## ÔøΩüìâ –ù–∏–∑–∫–∏–π FPS / –¢–æ—Ä–º–æ–∑–∞

### –°–∏–º–ø—Ç–æ–º—ã
- –ó–∞—è–≤–ª–µ–Ω–Ω—ã–π FPS 60, —Ä–µ–∞–ª—å–Ω—ã–π 10-15
- –ó–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –°–ª–∞–±—ã–π WiFi —Å–∏–≥–Ω–∞–ª
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
```cpp
WiFi.setSleep(false);
WiFi.setTxPower(WIFI_POWER_19_5dBm);
esp_wifi_set_ps(WIFI_PS_NONE);
```

#### 2. –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ <50ms

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ

#### 3. –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ TCP –±—É—Ñ–µ—Ä–∞
**–°–∏–º–ø—Ç–æ–º**: FPS –ø–∞–¥–∞–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

**–†–µ—à–µ–Ω–∏–µ**: –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
```cpp
// Async –æ—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤
if (client.available()) {
    while (client.available() && client.read() != -1) {
        // –ë—ã—Å—Ç—Ä–æ –æ—á–∏—â–∞–µ–º
    }
}
```

#### 4. –í—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ
```cpp
frameSize = FRAMESIZE_VGA;  // –í–º–µ—Å—Ç–æ HD
quality = 20;               // –í–º–µ—Å—Ç–æ 15
```

---

## üîµ Bluetooth –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è

### –°–∏–º–ø—Ç–æ–º—ã
```
Bluetooth start FAILED!
```

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. WiFi –∞–∫—Ç–∏–≤–µ–Ω
**–ü—Ä–æ–±–ª–µ–º–∞**: WiFi –∏ Bluetooth –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω —Ä–∞–¥–∏–æ–º–æ–¥—É–ª—å

**–†–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è WiFi –ø–µ—Ä–µ–¥ BT
```cpp
disconnectWiFi();  // WiFi.mode(WIFI_OFF)
startBluetoothConfig();
```

#### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å
**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```cpp
Serial.printf("Free heap: %d\n", ESP.getFreeHeap());
```

**–†–µ—à–µ–Ω–∏–µ**: –û—Å–≤–æ–±–æ–¥–∏—Ç–µ –ø–∞–º—è—Ç—å –ø–µ—Ä–µ–¥ BT
```cpp
stopStreaming();  // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç—Ä–∏–º–∏–Ω–≥
```

---

## üì± –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Bluetooth

### –°–∏–º–ø—Ç–æ–º—ã
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤–∏–¥–Ω–æ –≤ —Å–ø–∏—Å–∫–µ Bluetooth

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. Bluetooth –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í Serial Monitor –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Bluetooth started: ESP32-CAM-Config
```

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ BT –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### 2. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ
**–†–µ—à–µ–Ω–∏–µ**: –û—Ç–∫–ª—é—á–∏—Ç–µ –æ—Ç –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

#### 3. –ö—ç—à Bluetooth –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
**–†–µ—à–µ–Ω–∏–µ (Android)**:
1. Settings ‚Üí Apps ‚Üí Bluetooth
2. Clear cache
3. Force stop
4. Restart Bluetooth

**–†–µ—à–µ–Ω–∏–µ (iOS)**:
1. Settings ‚Üí Bluetooth
2. Forget device "ESP32-CAM-Config"
3. Restart Bluetooth

---

## üñºÔ∏è –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –°–∏–º–ø—Ç–æ–º—ã
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- –†–∞–∑–º—ã—Ç–æ—Å—Ç—å
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ JPEG
**–†–µ—à–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–∏—Ç–µ —á–∏—Å–ª–æ quality
```cpp
quality = 10;  // –õ—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ (–±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä)
```

#### 2. –ü–ª–æ—Ö–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ brightness
```cpp
brightness = 1;  // –£–≤–µ–ª–∏—á–∏—Ç—å —è—Ä–∫–æ—Å—Ç—å
```

#### 3. –ì—Ä—è–∑–Ω–∞—è –ª–∏–Ω–∑–∞
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ—Ç—Ä–∏—Ç–µ –ª–∏–Ω–∑—É –∫–∞–º–µ—Ä—ã –º—è–≥–∫–æ–π —Ç–∫–∞–Ω—å—é

#### 4. –§–æ–∫—É—Å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
**–†–µ—à–µ–Ω–∏–µ**: –£ OV2640 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–∫—É—Å. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 50cm - 3m

---

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```cpp
void diagnostics() {
    Serial.println("\n=== DIAGNOSTICS ===");
    
    // –°–∏—Å—Ç–µ–º–∞
    Serial.printf("CPU Freq: %d MHz\n", getCpuFrequencyMhz());
    Serial.printf("Free Heap: %d bytes\n", ESP.getFreeHeap());
    Serial.printf("PSRAM: %d bytes\n", ESP.getFreePsram());
    
    // WiFi
    Serial.printf("WiFi Status: %d\n", WiFi.status());
    Serial.printf("RSSI: %d dBm\n", WiFi.RSSI());
    Serial.printf("IP: %s\n", WiFi.localIP().toString().c_str());
    Serial.printf("MAC: %s\n", WiFi.macAddress().c_str());
    
    // NVS
    Preferences prefs;
    prefs.begin("wifi", true);
    Serial.printf("SSID: %s\n", prefs.getString("ssid", "not set").c_str());
    Serial.printf("Server: %s\n", prefs.getString("server_host", "not set").c_str());
    prefs.end();
    
    // –ö–∞–º–µ—Ä–∞
    sensor_t* s = esp_camera_sensor_get();
    if (s) {
        Serial.printf("Frame size: %d\n", s->status.framesize);
        Serial.printf("Quality: %d\n", s->status.quality);
    }
    
    // –°—Ç—Ä–∏–º–∏–Ω–≥
    Serial.printf("Streaming: %d\n", isStreaming());
    Serial.printf("Frames sent: %lu\n", getFramesSent());
    Serial.printf("Frames failed: %lu\n", getFailedFrames());
    
    Serial.println("==================\n");
}
```

–í—ã–∑–æ–≤–∏—Ç–µ –≤ `setup()` –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
```cpp
void setup() {
    // ... –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    diagnostics();
}
```

---

## üÜò –û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ**
   - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ë–ü 5V/2A+
   - –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Serial Monitor**
   - Baud rate 115200
   - –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ WiFi**
   - RSSI > -70 dBm
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π SSID/–ø–∞—Ä–æ–ª—å
   - 2.4GHz —Å–µ—Ç—å

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä**
   - Ping —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç
   - –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

5. **–û—á–∏—Å—Ç–∏—Ç–µ NVS**
   ```bash
   pio run -t erase
   ```

6. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**
   - –§–∏–∑–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–Ω–æ–≤–∞

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É**
   ```bash
   pio run -t upload
   ```

---

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞, —Å–æ–±–µ—Ä–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

1. **Serial Monitor –ª–æ–≥** (–ø–µ—Ä–≤—ã–µ 100 —Å—Ç—Ä–æ–∫ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)
2. **–í—ã–≤–æ–¥ `diagnostics()`**
3. **–í–µ—Ä—Å–∏—è –ø—Ä–æ—à–∏–≤–∫–∏** (git commit hash)
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (config.h –∏ platformio.ini)
5. **–ñ–µ–ª–µ–∑–æ** (–º–æ–¥–µ–ª—å ESP32-CAM, –ë–ü)

–°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub —Å —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [ESP32 FAQ](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/faq.html)
- [ESP32-CAM Community Forum](https://www.esp32.com/)
- [Arduino ESP32 Issues](https://github.com/espressif/arduino-esp32/issues)
